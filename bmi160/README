# BMI160â€‘Jetson

# Device detection:
i2cdetect -r -y 7

# BMI160 pins:
1-3.3v
3-SDA
5-SCL
9-GND

See     https://developer.download.nvidia.com/assets/embedded/secure/jetson/orin_nano/docs/Jetson-Orin-Nano-DevKit-Carrier-Board-Specification_SP-11324-001_v1.3.pdf?__token__=exp=1753855391~hmac=1fd7796e5d5e2e2b6c6187327f73bca43631976e0087098c975dc96e7f5112f3&t=eyJscyI6ImdzZW8iLCJsc2QiOiJodHRwczovL3d3dy5nb29nbGUuY29tLyJ9 table 3.3 pin header

# How to connect the sensor cable:
    Just take care to see in the 40-pin header where are the 1/2 pins, and connect the cable.
    so that the connected pins of sensor (1,3,5,9) are near/close to the first pins edge in the connector. Good Luck!

# Installation:
see script install_bmi160.sh
# Option 1:
    It can be installed in startscript which calls install_bmi160.sh, i.e. modprbe bmi160<>.ko 
    & echo bmi160 0x69 | sudo tee /sys/bus/i2c/devices/i2c-7/new_device 

# Option 2:
    By adding a new udev rule (one time):
    RULE='/etc/udev/rules.d/99-bmi160.rules'
    echo 'ACTION=="add", SUBSYSTEM=="i2c", KERNEL=="i2c-7", RUN+="/bin/sh -c '"'echo bmi160 0x69 > /sys/bus/i2c/devices/%k/new_device'"'"' | sudo tee "${RULE}" >/dev/null
    sudo udevadm control --reload

# Validation:
    see all sensors reading in cat /sys/bus/iio/devices/iio\:device0/    
    buntu@ubuntu:~$ ls /sys/bus/iio/devices/iio\:device0/
        buffer/
        buffer0/
        current_timestamp_clock
        dev
        in_accel_sampling_frequency
        in_accel_sampling_frequency_available
        in_accel_scale
        in_accel_scale_available
        in_accel_x_raw
        in_accel_y_raw
        in_accel_z_raw
        in_anglvel_sampling_frequency
        in_anglvel_sampling_frequency_available
        in_anglvel_scale
        in_anglvel_scale_available
        in_anglvel_x_raw
        in_anglvel_y_raw
        in_anglvel_z_raw
        in_mount_matrix
        name
        power/
        scan_elements/
        subsystem/
        trigger/
        uevent

    e.g.
    cat /sys/bus/iio/devices/iio\:device0/in_accel_x_raw
    cat /sys/bus/iio/devices/iio\:device0/in_accel_y_raw
    cat /sys/bus/iio/devices/iio\:device0/in_accel_z_raw

# References:
    UP 7000 Edge datasheet 
    https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bmi160-ds000.pdf
    https://developer.download.nvidia.com/assets/embedded/secure/jetson/orin_nano/docs/Jetson-Orin-Nano-DevKit-Carrier-Board-Specification_SP-11324-001_v1.3.pdf?__token__=exp=1753855391~hmac=1fd7796e5d5e2e2b6c6187327f73bca43631976e0087098c975dc96e7f5112f3&t=eyJscyI6ImdzZW8iLCJsc2QiOiJodHRwczovL3d3dy5nb29nbGUuY29tLyJ9 table 3.3 pin header

    UP 7000:
        192.168.132.100
        user: up7000
        pwd: 123

